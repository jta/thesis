\chapter{Introduction}
\label{sec:introduction}

% resource pooling
Strategies for pooling traffic are locally applied by all stakeholders on the Internet in a bid to improve efficiency, resilience and flexibility.
Operators resort to traffic engineering to load balance traffic across available network resources. 
Hosts adapt their sending rates to probe available network capacity.
\ac{P2P} applications often retrieve data chunks from multiple locations in order to efficiently distribute content amongst peers.
Content providers can manipulate name resolution to balance demand across servers and hosting infrastructure.
While these mechanisms share similar goals, they do so from different perspectives and as such may be at odds with each other.

% towards multipath transport
This antagonism is played out within the Internet architecture as network, transport and application layers all attempt to influence how and where traffic flows.
Against a backdrop of significant shifts in traffic patterns \cite{Cho:2006p104,Cho:2008p488} and greater path diversity \cite{Teixeira:2003p132,Bennett:1999p120,Oliveira:2006p342}, the issue of how best to balance traffic across multiple paths has become more relevant over time.
Bolstered by strong theoretical groundwork \cite{Kelly:2005p140,Key:2007p130}, support for enshrining traffic balancing at the transport layer has gained momentum, leading to recent efforts in the standardization of multipath transport \cite{Ford:2011p490}.
The deployment of such protocols however is likely to be hindered by an operational reality; namely that most path diversity is within the network, and that most providers are unwilling to relinquish control of how traffic traverses their networks.

% the network is not enough
The network alone on the other hand appears incapable of managing traffic efficiently.
For one, operators are constrained to balancing traffic transparently due to end host expectations.
On the other hand, routers do not have enough knowledge of end-to-end traffic to make informed decisions on which path each packet should take.
In many cases operators have enhanced their ability to manage traffic by extracting additional information per-packet, by looking beyond the network header, and per-flow, by reconstructing data streams over time, both of which ingrain protocol specific behaviour into the network.
This increase of network awareness however comes at the expense of innovation at the edges, as developers become increasingly constrained in what type of protocols can be deployed.

% join both?
Whether applied to providers wishing to reduce costs or hosts attempting to maximize throughput, the proliferation of unilateral solutions for resource pooling are manifestations of an underlying need. 
Rather than confine resource pooling to a single point of the Internet architecture and risk alienating a subset of stakeholders, this thesis explores how the existing Internet architecture can be extended to accommodate both host and network requirements for resource pooling.

\section{Problem statement}
\label{sec:introduction:objectives}

This thesis attempts to answer the following question:

\begin{quote}
\textit{
Given the nature of Internet traffic, how can the current architecture be realigned to facilitate resource pooling at both network and transport layers?
}
\end{quote}

In proposing to \emph{realign the current architecture}, the emphasis of any proposed solution must be applicable to the existing Internet architecture.
The motivation for avoiding clean-slate solutions is largely due to the nature of the problem at hand.
The different forms of resource pooling which are to be reconciled are as much a product of the Internet architecture as of its stakeholders.
While it is clear that a clean-slate approach to resource pooling would have resulted in a different architecture, it may also have given rise to different stakeholders or different traffic patterns.
By adhering to existing protocols, any potential solution can be directly applied and, by extension, validated. 

While resource pooling is prevalent across all layers, the focus of this work is mostly restricted to reconciling \emph{network} and \emph{transport} layers. 
Most forms of resource pooling above the network layer will attempt to benefit the end user, while below the transport layer most resources within a single administrative domain will conspire towards the same ends.
It is at the intersection of network and transport layers where the juxtaposition of interests is greatest within the Internet architecture.

\emph{Facilitating resource pooling} however should not dictate an outcome in the tussle between network and hosts, but rather provide an architecture within which such a tussle can evolve.
In some cases balancing traffic solely from the hosts may be desirable, while in other cases providers may wish to retain full control.
Both represent extremes of a range of outcomes which should be possible within a unifying architecture.

Finally, designing an efficient resource pooling architecture must take into account the \emph{nature of Internet traffic}.
While scaling Internet traffic poses considerable technical challenges, understanding its emergent properties plays a pivotal role in simplifying traffic management.
Any solution presented must not only address future traffic needs but also exploit its properties.

\section{Contributions}

This thesis contains the following contributions:

\begin{description}
\item[A mutualistic architecture] which identifies re-feedback as a potential solution for bridging different forms of resource pooling.
\ac{PREFLEX} is unique in exposing network path diversity to hosts, while making the network aware of performance metrics which are instrumental to effective traffic engineering.
%The first contribution of this thesis is to propose an architecture for \emph{mutualistic} resource pooling using \acf{PREFLEX}. 
%\ac{PREFLEX} bridges different forms of resource pooling by exposing path diversity to hosts and making the network aware of traffic characteristics which are crucial to effective traffic engineering.
\item[A model for balancing congestion] is derived which enables providers to make more efficient use of available end-to-end capacity.
Compared to existing multipath transport protocols, balancing congestion from within the network can support legacy applications as well as flows which are too short to effectively explore path diversity.
The proposed model is evaluated and shown to outperform traditional traffic engineering methods without the need for per-flow state within the network.
\item[A novel methodology for flow reconstruction] is detailed which recovers transport behaviour from passive traffic traces.
This includes a mechanism for \ac{RTT} recovery based on cumulative histogram construction and peak detection and a scalable process for systematically classifying flow throughput dynamics.
\item[A longitudinal analysis of Internet traffic] spanning approximately 5.7 billion flows collected over five years.
Compared to previous studies, this work documents macroscopic shifts in the nature of Internet traffic -- \emph{where} traffic originates from -- as well as performing a significant reappraisal of commonly held assumptions on \emph{how} the \acf{TCP} behaves in practice.
%Such transport-level information is invaluable in understanding how the \acf{TCP} behaves: both by tracking how endpoints perceive network performance, and how the protocol is evolving. 
\item[A resilient traffic management framework] which can be unilaterally deployed by edge domains.
The proposed solution, INFLEX, is modelled upon software-defined networking principles while drawing on the insights afforded by all aforementioned contributions above.
The resulting system is shown to provide fast, scalable, end-to-end fault detection with low overhead at either the end-host or the network.
Finally, extensions are described which allow INFLEX to equally perform congestion balancing -- resulting in a complete architecture for dynamic traffic management at the edge requiring only sender-side modifications.
\end{description}


\section{Publications}
\label{sec:introduction:contributions}

\begin{itemize}
    \item J. Taveira Ara\'{u}jo, R. Landa, R. G. Clegg and G. Pavlou \\
            \emph{Software-defined network support for transport resilience} \\
            Under submission.
    \item J. Taveira Ara\'{u}jo, R. Landa, R. G. Clegg, K. Fukuda and G. Pavlou \\
            \emph{A longitudinal analysis of Internet rate limitations} \\
            Under submission.
%    \item R. G. Clegg, R. Landa, J. Taveira Ara\'{u}jo, E. Mykoniati, D. Griffin and M. Rio \\
%            \emph{TARDIS: Stably shifting traffic in space and time} \\
%            Under submission.
%    \item R. G. Clegg, J. Taveira Ara\'{u}jo, R. Landa, E. Mykoniati, D. Griffin and M. Rio \\
%            \emph{On the relationship between fundamental measurements in \ac{TCP} flows} \\
%            {IEEE Internation Conference on Communications (ICC) 2013}
    \item J. Taveira Ara\'{u}jo, K. Fukuda \\
            \emph{MALAWI: Aggregated longitudinal analysis of the MAWI dataset} \\
            {ACM CoNEXT Student Workshop 2011}
    \item J. Taveira Ara\'{u}jo, I. Grandi, R. G. Clegg, M. Rio and G. Pavlou \\
            \emph{Balancing by PREFLEX: Congestion Aware Traffic Engineering} \\
            {IFIP Networking 2011}
    \item J. Taveira Ara\'{u}jo, M. Rio and G. Pavlou \\
        \emph{A mutualistic resource pooling architecture} \\
        {ACM ReArch 2010}
    \item T. Moncaster, L. Krug, M. Menth, J. Ara\'{u}jo, S. Blake, R. Woundy \\
        \emph{The Need for Congestion Exposure in the Internet} \\
        {draft-moncaster-conex-problem-00, IETF Internet draft 2010}
\end{itemize}

\section{Thesis Outline}
\label{sec:introduction:outline}

This thesis is organized as follows:

\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\textbf{Chapter #1}}
\begin{description}
\item[\ref{chapter:resourcepooling}] provides an overview of how resource pooling has evolved across different layers of the Internet architecture, detailing how network resources are pooled end-to-end, through congestion management, and how traffic is balanced across multiple paths.
\item[\ref{chapter:preflex}] proposes \acs{PREFLEX}, a resource pooling architecture which accommodates both congestion control and traffic engineering through the application of re-feedback. 
\item[\ref{chapter:cate}] builds upon the foundation of the previous chapter and models and evaluates a functional congestion balancer, allowing the network to perform dynamic, adaptive traffic engineering by crowd sourcing information from end hosts.
\item[\ref{chapter:malawi}] presents a longitudinal study on Internet interdomain traffic and characterizes the impact of structural changes in content distribution on underlying traffic patterns.
\item[\ref{chapter:rate}] follows on from the previous chapter, delving into the nature and evolution of rate limitations affecting traffic exchanged over \ac{TCP}.
\item[\ref{chapter:inflex}] revisits the architectural concepts introduced in chapters \ref{chapter:preflex} and \ref{chapter:cate} in light of the findings presented in chapters \ref{chapter:malawi} and \ref{chapter:rate}.
A unilaterally deployable solution providing scalable, resilient traffic management is presented modelled upon recent advances in software-defined networking.
\item[\ref{chapter:conclusions}] draws conclusions on the present work and posits potential directions for future work.
\end{description}

